!function(){"use strict";function e(){j.load.image("map","sprites/map.jpg"),j.load.image("gun","sprites/gun.png"),j.load.image("ammo","sprites/ammo.png"),j.load.image("heart","sprites/heart.png"),j.load.image("wave","sprites/wave.png"),j.load.image("viewfinder","sprites/viewfinder.png"),j.load.image("fire","sprites/fire.png"),j.load.image("impact","sprites/impact.png"),j.load.spritesheet("bird","sprites/bird.png",79,54,3),j.load.spritesheet("explode","sprites/explode.png",100,100,5),j.load.audio("gun","sounds/gun.wav"),j.load.audio("reload","sounds/reload.wav"),j.load.audio("dry","sounds/dry.wav"),j.load.audio("chicken","sounds/chicken.wav"),j.load.audio("music","sounds/music.wav"),j.load.audio("firstblood","sounds/quake/firstblood.wav"),j.load.audio("headshot","sounds/quake/headshot.wav"),j.load.audio("prepare","sounds/quake/prepare.wav"),j.load.audio("perfect","sounds/quake/perfect.wav"),j.load.audio("dominating","sounds/quake/dominating.wav"),j.load.audio("humiliation","sounds/quake/humiliation.wav"),j.load.audio("holyshit","sounds/quake/holyshit.wav"),j.load.audio("monsterkill","sounds/quake/monsterkill.wav")}function o(){r=j.add.tileSprite(0,0,P,I,"map"),w=j.add.text(j.world.centerX,20,"",{font:"18px Arial",fill:"#ffffff",align:"right"}),w.anchor.setTo(.5,.5),q=j.add.group(),q.enableBody=!0,q.physicsBodyType=Phaser.Physics.ARCADE,X=j.add.group(),X.enableBody=!0,X.physicsBodyType=Phaser.Physics.ARCADE,X.createMultiple(30,null),X.setAll("anchor.x",.5),X.setAll("anchor.y",.5),X.setAll("outOfBoundsKill",!0),X.setAll("checkWorldBounds",!0),g=j.add.sprite(0,0,"fire"),g.anchor.setTo(.5,.5),g.visible=!1,l=j.add.sprite(j.world.centerX+2*O,j.world.centerY+2*N,"gun"),l.anchor.setTo(.5,.5),p=j.add.sprite(P-45,20,"heart"),p.anchor.setTo(.5,.5),c=j.add.sprite(22,20,"wave"),c.anchor.setTo(.5,.5),h=j.add.text(P-15,22,E,{font:"20px Arial",fill:"red",align:"center"}),h.anchor.setTo(.5,.5),h.stroke="#000",h.strokeThickness=4,u=j.add.sprite(P-95,I-60,"ammo"),u.anchor.setTo(.5,.5),b=j.add.text(P-45,I-50,B,{font:"40px Arial",fill:"white",align:"center"}),b.anchor.setTo(.5,.5),b.stroke="#000",b.strokeThickness=4,v=j.add.text(j.world.centerX,50,C,{font:"20px Arial",fill:"white",align:"center"}),v.anchor.setTo(.5,.5),v.stroke="#000",v.strokeThickness=8,k=j.add.text(50,23,E,{font:"20px Arial",fill:"white",align:"center"}),k.anchor.setTo(.5,.5),k.stroke="#000",k.strokeThickness=4,m=j.add.sprite(j.input.mousePointer.x,j.input.mousePointer.y,"viewfinder"),m.anchor.setTo(.5,.5),M.gun=j.add.audio("gun",.5),M.reload=j.add.audio("reload"),M.dry=j.add.audio("dry"),M.chicken=j.add.audio("chicken",.5),M.music=j.add.audio("music",.5),M.firstblood=j.add.audio("firstblood"),M.headshot=j.add.audio("headshot"),M.prepare=j.add.audio("prepare"),M.perfect=j.add.audio("perfect"),M.dominating=j.add.audio("dominating"),M.humiliation=j.add.audio("humiliation"),M.holyshit=j.add.audio("holyshit"),M.monsterkill=j.add.audio("monsterkill"),j.input.onDown.add(n),T=j.add.group();for(var e=0;H>e;e++){var o=T.create(0,0,"explode",[0],!1);o.anchor.setTo(.5,.5),o.animations.add("explode")}s(),setTimeout(function(){M.music.loop=!0,M.music.play()},4e3)}function t(){k.setText(F),w.setText(0!=K?"Score : "+Y+" - Best score : "+K:"Score : "+Y),g.position.x=l.position.x-160,g.position.y=l.position.y-250,g.angle=230,m.position.x=j.input.mousePointer.x,m.position.y=j.input.mousePointer.y,h.setText(E),v.setText(C),b.setText(B),l.position.x=j.input.mousePointer.x+O/2-145,j.input.mousePointer.y>j.world.centerY-N/2&&(l.position.y=j.input.mousePointer.y+145+N/2),j.physics.arcade.overlap(f,q,d,null,this);for(var e=0;e<q.length;e++){var o=q.children[e].body.width;q.children[e].getBounds().x+o>P+o&&(q.children[e].destroy(),i(!1))}"undefined"!=typeof localStorage&&("best"in localStorage&&Y>localStorage.getItem("best")?localStorage.setItem("best",Y):"best"in localStorage||localStorage.setItem("best",Y),K=localStorage.getItem("best"))}function a(){E=3,Y=0,F=1,R=0,C="",D=120,M=[],X=[],G=1,o()}function i(e){0==q.length&&(D+=30,F++,s()),e||(E--,0==E&&(q.destroy(),M.music.destroy(),S=j.add.text(j.world.centerX,j.world.centerY,"Game Over !",{font:"65px Arial",fill:"red",align:"center"}),S.anchor.setTo(.5,.5),S.stroke="#000",S.strokeThickness=6,setTimeout(function(){a()},2e3)))}function s(){L=0,U=0,setTimeout(function(){M.reload.play(),B=12},1e3),setTimeout(function(){M.prepare.play()},2e3),setTimeout(function(){for(var e=0;H>e;e++)y=q.create(100*e,Math.floor(300*Math.random()+1),"bird"),y.anchor.setTo(.5,.5),y.animations.add("fly",[0,1,2,3]),y.animations.play("fly",24,!0),y.scale.set(Math.random()*(.6-1.1+1)+.6),y.body.velocity.x=D;q.x=-1e3,q.y=80},4e3)}function n(){0!=B?(L++,B--,g.visible=!0,M.gun.play(),f=X.getFirstExists(!1),f&&f.reset(j.input.mousePointer.x,j.input.mousePointer.y),setTimeout(function(){g.visible=!1,f.kill()},30)):M.dry.play()}function d(e,o){if(U++,A=j.add.text(40,I-40,"",{font:"32px Arial",fill:"red",align:"left"}),A.stroke="#000",A.strokeThickness=6,j.time.events.add(0,function(){j.add.tween(A).to({y:I/2},2500,Phaser.Easing.Linear.None,!0),j.add.tween(A).to({alpha:0},2500,Phaser.Easing.Linear.None,!0)},this),o.getBounds().x+o.width-e.x<10&&(0!=q.length&&10!=q.length?M.headshot.play():L!=U&&0==q.length&&M.headshot.play(),A.setText("HEADSHOT ! + "+20*G),Y+=30*G),Y+=10*G,x=T.getFirstExists(!1),x.reset(e.x,e.y),x.play("explode",24,!1,!0),e.kill(),o.destroy(),M.chicken.play(),9==q.length&&M.firstblood.play(),L==U&&0==q.length)switch(R+=5>R?1:0){case 1:G=2,M.perfect.play(),A.setText("PERFECT ! + 50"),Y+=50*G,C="PERFECT : BONUS X2";break;case 2:G=3,M.dominating.play(),A.setText("DOMINATING ! + 100"),Y+=100,C="DOMINATING : BONUS X3";break;case 3:G=4,M.humiliation.play(),A.setText("HUMILIATION ! + 150"),Y+=150,C="HUMILIATION : BONUS X4";break;case 4:G=5,M.holyshit.play(),A.setText("HOLY SHIT ! + 200"),Y+=200,C="HOLY SHIT : BONUS X5";break;case 5:G=6,M.monsterkill.play(),A.setText("MONSTER KILL ! + 400"),Y+=400,C="MONSTER KILL : BONUS X6"}else L!=U&&0==q.length&&(R=0,G=1,C="");i(!0)}var r,l,u,p,c,h,m,g,f,y,T,x,k,w,v,b,A,S,P=1200,I=750,O=832,N=464,B=0,E=3,L=0,M=[],X=[],q=[],H=10,U=0,D=120,R=0,C="",Y=0,F=1,G=1,K=0,j=new Phaser.Game(P,I,Phaser.AUTO,"gameContainer",{preload:e,create:o,update:t})}();